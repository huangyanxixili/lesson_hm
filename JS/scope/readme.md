# 作用域

- 通过一句 var a = 1; 了解JS的执行机制
   - 声明 + 赋值语句
   - a 变量存储在内存之中
       - 编译 
           - var 变量声明的关键字
           - a 变量标识符

- var a;（编译阶段） --->  a = 1;（执行阶段）

## 变量
   - 作用域
       - 变量不会单独存在，会属于一个作用域（编译阶段）
       - 作用域是变量的查找规则，在当前作用域查找，找不到，就去父级作用域查找，直到全局作用域，如果还找不到，就未定义（执行阶段）

## var a = 1;  哪些东西为其工作？
- JS 引擎（CEO） chrome v8引擎 
    负责整体工作

- 1.编译器（CTO）---> 编译阶段
    对var a = 1 分词，对变量进行声明，如果没有就是undefined

- 2.作用域（COO 运营经理）---> 执行阶段
    变量属于作用域（作用域是查找变量的规则）
    形成一个作用域链

- var a = 1;
   -  按编译和执行分为
       - var a 在编译阶段声明了一个类型为undefined的全局变量 a （变量属于定义时候的作用域 ----> 词法作用域）
       - a = 1 在执行阶段进行了一个LHS，查找到了 a 并且进行赋值确定了 a 为number（查找 a 的过程，遵守作用域的规则，先查找当前作用域-->外层...-->全局-->未找到，停止  找到了，立马停止）

- undefined
    未定义 js 数据类型之一 ---> 类型未定义
    js 是一门弱类型语言，类型由值决定

-  var a = 1;
    引擎是如何领导编译器和作用域查找变量a的
        a = 1; 赋值操作 a 在等号左边 即查找变量a ---> LHS
        查找分成 LHS + RHS 左边查找 + 右边查找
        a = b + 2;  先查找a（LHS），再查找b（RHS）

   - 在执行阶段进行
    RHS：查找容器位置，再取值的操作（retrive his sourde value）
       - eg: console.log(a) RHS 查找a的位置再取出a的值进行输出
    LHS：查找容器位置，再赋值的操作
       - eg：a = 1 LHS 查找a的位置再赋值1


- 作用域嵌套
    作用域链
        当前作用域 --> 查找到全局的过程就是作用域链
        查找的路径就是 作用域链